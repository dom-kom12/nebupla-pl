<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8" />
<title>Skracacz Link贸w (lokalny)</title>
<link rel="stylesheet" href="assets/style.css">
</head>
<body>
<nav>
  <a href="paint.html"> Paint</a>
  <a href="short.html"> Skracacz Link贸w</a>
</nav>
  <h1>Skracacz Link贸w (tylko lokalny)</h1>
  <input id="longUrl" type="text" placeholder="Wklej dugi link tutaj" style="width: 300px;" />
  <button onclick="createShort()">Skr贸 link</button>

  <div id="result" style="margin-top: 20px;"></div>

<script>
function createShort() {
  const url = document.getElementById('longUrl').value.trim();
  if (!url) return alert("Wpisz link!");

  // Generuj 5-cyfrowy kod
  const code = Math.floor(10000 + Math.random() * 90000).toString();

  // Pobierz map z localStorage lub now
  let map = JSON.parse(localStorage.getItem('urlMap')) || {};

  // Zapisz nowy kod i URL
  map[code] = url;
  localStorage.setItem('urlMap', JSON.stringify(map));

  // Poka偶 skr贸cony link (link lokalny)
  const shortLink = `${window.location.origin}/redirect.html?code=${code}`;
  document.getElementById('result').innerHTML = `
    Skr贸cony link: <a href="${shortLink}">${shortLink}</a>
    <br><small>Uwaga: dziaa tylko na tym samym komputerze i przegldarce</small>
  `;
}
</script>
</body>
</html>


